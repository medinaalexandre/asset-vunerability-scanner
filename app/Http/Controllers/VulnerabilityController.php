<?php

namespace App\Http\Controllers;

use App\Http\Requests\CreateVulnerabilityRequest;
use App\UseCases\Vulnerability\CreateVulnerabilityUseCase;
use Illuminate\Http\JsonResponse;
use Symfony\Component\HttpFoundation\Response;

class VulnerabilityController extends Controller
{
    public function create(CreateVulnerabilityRequest $request, CreateVulnerabilityUseCase $useCase): JsonResponse
    {
        $vulnerability = $useCase->execute($request->toDto());

        return response()->json(['id' => $vulnerability->id], Response::HTTP_CREATED);
    }
}
